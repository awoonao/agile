<form id="editProfileForm" action="/profile/edit-profile/update" method="POST" enctype="multipart/form-data">
    <div class="profile-image-upload">
        <label for="imageUpload">
            <img id="profilePicture" src="<%= user.profile_picture ? user.profile_picture : '/images/users/defaultProfile.jpg' %>" alt="Profile Picture" />
        </label>
        <input type="file" name="profile_picture" accept="image/*" id="imageUpload" style="display: none;" />
        <input type="hidden" name="existing_profile_picture" value="<%= user.profile_picture %>" />
    </div>

    <div class="form-group">
        <label>First Name:</label>
        <input type="text" class="form-control" name="first_name" value="<%= user.first_name %>" required />
    </div>

    <div class="form-group">
        <label>Last Name:</label>
        <input type="text" class="form-control" name="last_name" value="<%= user.last_name %>" required />
    </div>

    <div class="form-group">
        <label>Email Address:</label>
        <input type="email" class="form-control" name="email" value="<%= user.email %>" required />
    </div>
    
    <div class="form-group">
        <label>Birthday:</label>
        <div class="d-flex">
            <select class="form-control" name="day" required>
                <option value="">Day</option>
                <% for (let i = 1; i <= 31; i++) { %>
                    <option value="<%= i %>" <%= user.birthday.day == i ? "selected" : "" %>><%= i %></option>
                <% } %>
            </select>

            <select class="form-control mx-2" name="month" required>
                <option value="">Month</option>
                <% for (let i = 1; i <= 12; i++) { %>
                    <option value="<%= i %>" <%= user.birthday.month == i ? "selected" : "" %>><%= i %></option>
                <% } %>
            </select>

            <select class="form-control" name="year" required>
                <option value="">Year</option>
                <% for (let i = new Date().getFullYear(); i >= 1900; i--) { %>
                    <option value="<%= i %>" <%= user.birthday.year == i ? "selected" : "" %>><%= i %></option>
                <% } %>
            </select>
        </div>
    </div>

    <button type="submit" class="btn btn-primary save-btn">Save Changes</button>
</form>
